<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>GSoC Milestones – Vala Build using AutoTools - Yuvi Panda</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="yuvipanda" /><meta name="description" content="I’m using a RTM List to track my milestones for this my GSoC this year. I’ll be making a blog post for each item ticked off that list, to share what I’ve learnt in my journey from n00b to someone whose code is good enough to be included in GNOME. This is part 1 in the series, where I tell you about autotools
My GSoC project involves, moving major parts (UI) of Cheese to a new language – Vala." /><meta name="keywords" content="yuvi, yuvipanda" />






<meta name="generator" content="Hugo 0.75.1 with theme even" />


<link rel="canonical" href="https://words.yuvi.in/gsoc-milestones-vala-build-using-autotools/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.fd028de9698f3177a6c19af3f7e269107c2710dd1eaf98d83106b3ad594c81c6.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">



<link rel="stylesheet" href="/lib/fontawesome-free-5.13.1-web/css/all.min.css">

<meta property="og:title" content="GSoC Milestones – Vala Build using AutoTools" />
<meta property="og:description" content="I’m using a RTM List to track my milestones for this my GSoC this year. I’ll be making a blog post for each item ticked off that list, to share what I’ve learnt in my journey from n00b to someone whose code is good enough to be included in GNOME. This is part 1 in the series, where I tell you about autotools
My GSoC project involves, moving major parts (UI) of Cheese to a new language – Vala." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://words.yuvi.in/gsoc-milestones-vala-build-using-autotools/" />
<meta property="article:published_time" content="2010-05-06T07:00:20+00:00" />
<meta property="article:modified_time" content="2010-05-06T07:00:20+00:00" />
<meta itemprop="name" content="GSoC Milestones – Vala Build using AutoTools">
<meta itemprop="description" content="I’m using a RTM List to track my milestones for this my GSoC this year. I’ll be making a blog post for each item ticked off that list, to share what I’ve learnt in my journey from n00b to someone whose code is good enough to be included in GNOME. This is part 1 in the series, where I tell you about autotools
My GSoC project involves, moving major parts (UI) of Cheese to a new language – Vala.">
<meta itemprop="datePublished" content="2010-05-06T07:00:20+00:00" />
<meta itemprop="dateModified" content="2010-05-06T07:00:20+00:00" />
<meta itemprop="wordCount" content="582">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="GSoC Milestones – Vala Build using AutoTools"/>
<meta name="twitter:description" content="I’m using a RTM List to track my milestones for this my GSoC this year. I’ll be making a blog post for each item ticked off that list, to share what I’ve learnt in my journey from n00b to someone whose code is good enough to be included in GNOME. This is part 1 in the series, where I tell you about autotools
My GSoC project involves, moving major parts (UI) of Cheese to a new language – Vala."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Yuvi Panda</a>
  <div class='logo-site-description'><a href='https://jupyter.org'>Project Jupyter</a> contributor | <a href='https://en.wikipedia.org/wiki/Free-culture_movement'>Free Culture</a> enthusiast
  </div>
</div>

<div class="logo-social">
      <a href="mailto:yuvipanda@gmail.com" class="fas fa-envelope" title="envelope"></a>
      <a href="https://twitter.com/yuvipanda" class="fab fa-twitter" title="twitter"></a>
      <a href="https://github.com/yuvipanda" class="fab fa-github" title="github"></a>
  <a href="https://words.yuvi.in/index.xml" type="application/rss+xml" class="fas fa-rss" title="rss"></a>
</div>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">GSoC Milestones – Vala Build using AutoTools</h1>

      <div class="post-meta">
        <span class="post-time"> 2010-05-06 </span>
        <div class="post-category">
            <a href="/categories/code/"> code </a>
            </div>
          <span class="more-meta"> 582 words </span>
          <span class="more-meta"> 3 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents"></nav>
  </div>
</div>
    <div class="post-content">
      <p><em>I’m using a <a href="http://www.rememberthemilk.com/home/yuvipanda/13485943/">RTM List</a> to track my milestones for this <a href="http://yuvi.in/blog/gsoc-2010-the-beginning.html">my GSoC</a> this year. I’ll be making a blog post for each item ticked off that list, to share what I’ve learnt in my journey from n00b to someone whose code is good enough to be included in GNOME. This is part 1 in the series, where I tell you about autotools</em></p>
<p>My GSoC project involves, moving major parts (UI) of Cheese to a new language – <a href="http://live.gnome.org/Vala">Vala</a>. Vala is more an extremely glorious C preprocessor than a language of its own – it just translates down to GObject based C code, rather than bytecode/objectcode. The syntax is very C#ish – I was using <a href="http://www.emacswiki.org/emacs/CSharpMode">csharp-mode</a> in emacs to code vala till I got bored enough to download <a href="http://live.gnome.org/Vala/Emacs">vala-mode</a>. It’s got closures – haven’t used them yet, here is to hoping they’re real closures. It has <em>tons</em> of libraries – it takes a few (minutes|hours) to write a binding for any C library, so many bindings already exist. You don’t lose speed – Vala is compiled down to C code. It also has one of Java’s suckiest features – <em>Checked Exceptions</em>. The documentation is non existent – you’ve to pretty much read through the bindings, or the original C library’s documentation to get anything done. And not many people know such a language exists (<a href="http://kausikram.net/">Kausik</a> for example – but he also didn’t know you could output pdf from latex, so I don’t think his opinion counts :D)</p>
<p>Cheese uses autotools for building. I had to tweak their script to make it build my Vala code as well. I’ve never worked with any of the autotools stuff before – I didn’t even know <code>.ac</code> stood for <code>autoconf</code> and <code>.am</code> stood for automake. No big deal – Google knows it all and will tell you for free. I JFGI and found a bunch of articles about using autotools to successfully build vala projects. After reading <a href="http://www.lrde.epita.fr/~adl/autotools.html">this monstrous (180+ slides, but ~500 pages) Autotools presentation</a> (which is actually very, <em>very</em> good, btw), I had a working build script. It built my single <code>cheese.vala</code> file that did nothing but run a loop and wait to be terminated. It had a place where I could add more <code>.vala</code> files and they should (should) be included in the build. It was hackish, but like most hacks, it worked. <a href="http://www.codinghorror.com/blog/2007/03/the-works-on-my-machine-certification-program.html">On My Machine</a>(tm).</p>
<p>Nowhere else. Turned out my script wasn’t working at all – just faking it to me. I had initially tested out <code>valac</code> (the vala compiler), which had produced a <code>.c</code> file. Since <code>make</code> was supposed to produce the same file, and it wasn’t stale (I hadn’t touched my <code>cheese.vala</code>), it just proceeded to compiling the <code>.c</code> files with <code>gcc</code>. The Vala part of the build script wasn’t being executed at all. Removing the <code>.c</code> file told me that my hackish script hadn’t worked at all.</p>
<p>After banging my head for a while to figure out <em>why</em> it wasn’t working, I finally landed up on the official autotools docs. Autotools had added <a href="http://www.gnu.org/software/hello/manual/automake/Vala-Support.html">native vala support</a>. The hack I found was not necessary.</p>
<p><em>facepalm</em></p>
<p><strong>Moral of the Story</strong>: RTFM comes first, not JFGI.</p>
<p>Anyway, I rewrote the build script to be much more cleaner in a couple of minutes. And it worked.</p>
<p>Build systems are actually a lot of fun once you get the hang of it. A black screen with fast scrolling green text cryptic to everyone else but totally sensible to you is incredibly attractive, no? :)</p>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">yuvipanda</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
        2010-05-06
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      
      <nav class="post-nav">
        <a class="prev" href="/vala-gtkbuilder-and-autoconnecting-signal-handlers/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Vala, GTKBuilder and Autoconnecting Signal Handlers</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/gsoc-milestone-0-what-does-my-project-do/">
            <span class="next-text nav-default">GSoC Milestone 0 – What does my project do?</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme -
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy;
    2005 -
    2020
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Yuvi Panda</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.d7b7ada643c9c1a983026e177f141f7363b4640d619caf01d8831a6718cd44ea.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      showProcessingMessages: false,
      messageStyle: 'none'
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"  integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>








</body>
</html>
