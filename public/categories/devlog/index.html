<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<meta property="og:title" content="Devlog" />
<meta property="og:description" content="[JupyterHub](https://github.com/jupyterhub/jupyterhub) | [MyBinder](https://mybinder.org) | [Kubernetes](https://k8s.io) | Open Culture" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://words.yuvi.in/categories/devlog/" />
<meta property="og:updated_time" content="2018-12-26T10:23:40-08:00"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Devlog"/>
<meta name="twitter:description" content="[JupyterHub](https://github.com/jupyterhub/jupyterhub) | [MyBinder](https://mybinder.org) | [Kubernetes](https://k8s.io) | Open Culture"/>
<meta name="generator" content="Hugo 0.47.1" />


    
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Blog",
  "headline": "Yuvi Panda",
  "url" : "http://words.yuvi.in/categories/devlog/",
  "author": {
    "@type": "Person",
    "name": ""
  },
  "dateModified": "2018-12-26T10:23:40-08:00",
  "keywords": "books,class-notes,code,devlog,education,events,jupyter,kubernetes,links,lol-culture,papers,personal,project-ideas,retrospective,so-called-it,uncategorized,wiki,work-plan,algorithm,android,anniversary,answers,athiesm,atleast-not-yet,bigco,bigotry,binder,blogging,book,code,crime,democratizing-programming,devlog,devlog-dec-2011,education,external-enforcement,fiction,flipkart,india,interview,it,js,learning,link,linux,note-to-future-self,opensource,parenting,personal,photo,photography,php,python,rant,reddit,reprint,resistance,review,rights,sick,sriram,systemd,talk,talks,travel,twitter,wordpress,work,yahoo,",
  "description": "[JupyterHub](https://github.com/jupyterhub/jupyterhub) | [MyBinder](https://mybinder.org) | [Kubernetes](https://k8s.io) | Open Culture"
}
</script>


    <link rel="canonical" href="http://words.yuvi.in/categories/devlog/">

    <title>Yuvi Panda</title>

    <!-- combined, minified CSS -->
    <link href="http://words.yuvi.in/css/style.css" rel="stylesheet" integrity="sha384-O8wjsnz02XiyrPxnhfF6AVOv6YLBaEGRCnVF&#43;DL3gCPBy9cieyHcpixIrVyD2JS5" crossorigin="anonymous">

    
    <!-- RSS 2.0 feed -->
    <link href="http://words.yuvi.in/categories/devlog/index.xml" rel="alternate" type="application/rss+xml" title="Yuvi Panda" />
    

    

    

    

  </head>

  <body>

    <div class="blog-masthead">
    
    </div>

    <header class="blog-header">
      <div class="container">
        <h1 class="blog-title">
            
            <img src='/profile.jpg' width=80 style="border-radius: 50%; margin-bottom: 12px;">
            <a href="http://words.yuvi.in/" rel="home">Yuvi Panda</a></h1>
        <p class="lead blog-description"><a href="https://github.com/jupyterhub/jupyterhub">JupyterHub</a> | <a href="https://mybinder.org">MyBinder</a> | <a href="https://k8s.io">Kubernetes</a> | Open Culture</p>
      </div>
    </header>

    <div class="container">
      <div class="row">
        <div class="col-sm-8 blog-main">

          







<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="http://words.yuvi.in/post/devlog-2018-12-26/">Devlog 2018 12 26</a></h2>
    <p class="blog-post-meta"><time datetime="2018-12-26T10:23:40-08:00">Wed Dec 26, 2018</time> by  in 
<i class="fa fa-folder" aria-hidden="true"></i>&nbsp;<a href="/categories/devlog" rel="category tag">devlog</a>, <a href="/categories/code" rel="category tag">code</a>


</p>
  </header>
  

<h2 id="physical-activity">Physical activity</h2>

<p>I walked for about 6 miles yesterday evening, after doing 3-4 miles each day for about 2-3 days before. The roads were empty, and it was lovely. I&rsquo;ve listened to maybe 6-10 hours of <a href="https://en.wikipedia.org/wiki/Deborah_Frances-White">Deborah Frances-White</a> in the last week or so, split between <a href="http://guiltyfeminist.com/">The Guilty Feminist</a> and <a href="http://globalpillage.net/">Global Pillage</a>. Next time though, I&rsquo;m going to try listen to podcasts less &amp; observe my surroundings more. I am doing this (plus PT) to rehab my knee mostly. I slept for 12h yesterday night :)</p>

<h2 id="asyncio-deadlock">Asyncio deadlock</h2>

<p>I don&rsquo;t have enough experience with the pitfalls of concurrent programming where you <em>have</em> to use <a href="https://docs.python.org/3/library/asyncio-sync.html">synchronization</a> techniques. I had my first deadlock today, and after a few minutes realized it was actually an infinite recursion from a typo. I need to get a better theoretical understanding of both event loop based async programming and synchronization methods. I&rsquo;ve used them with threading &amp; Java, but feel shaky in asyncio.</p>

<p>simperviser now has 100% unit test coverage. But it combines asyncio,
processes &amp; signals - so that doesn&rsquo;t give me enough confidence as it might have otherwise. I&rsquo;ll take it though :)</p>

<h2 id="vscode-customization">VSCode customization</h2>

<p>I&rsquo;ve been re-reading the pragmatic programmer again (after initially reading it about 12 years or so ago). A lot of it still holds up, although some stuff is date (love for Broken Window policing &amp; perl). It reminded me that I hadn&rsquo;t really spent much time customizing and being more productive in VSCode, so am spending time today doing that.</p>

<p>I switch between vscode and my terminal quite a bit, mostly for git operations and running tests. I&rsquo;m going to see if I can stay inside vscode comfortably for running pytest based tests.</p>

<p>It made me very sad that the only thing I wanted from the pytest integration in vscode is something the maintainers aren&rsquo;t actively working on - <a href="https://github.com/Microsoft/vscode-python/issues/637">shortcut to run test the cursor is currently at</a>. I also can&rsquo;t seem
to see test output directly.</p>

<p>I think I&rsquo;ll be using the Terminal for pytest runs for now. I&rsquo;m not even going to try with git.</p>

<p>If I was younger and not already full of projects to do, I&rsquo;d have picked up and tried to make a PR for this. Boo time commitments.</p>

</article> 






<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="http://words.yuvi.in/post/devlog-2018-12-24/">Devlog 2018 12 24</a></h2>
    <p class="blog-post-meta"><time datetime="2018-12-24T10:51:57-08:00">Mon Dec 24, 2018</time> by  in 
<i class="fa fa-folder" aria-hidden="true"></i>&nbsp;<a href="/categories/code" rel="category tag">code</a>, <a href="/categories/devlog" rel="category tag">devlog</a>


</p>
  </header>
  

<h2 id="gracefully-exiting-asyncio-application">Gracefully exiting asyncio application</h2>

<p>Continuing yesterday&rsquo;s work on my <a href="https://github.com/yuvipanda/simpervisor">simple supervisor library</a>,
I continued trying to propagate signals cleanly to child processes
before exiting. I remembered that it isn&rsquo;t enough to just propagate
signals - you also have to actually reap them. This meant waiting
for <code>wait</code> calls on them to return.</p>

<p>I had a task running concurrently that is waiting on these
processes. So &lsquo;all&rsquo; I had to do was make sure the application
does <em>not</em> exit until these tasks are done. This turned
out to be harder than I thought! After a bunch of reading, I
recognized that what I needed to do was make sure I wait
for all pending tasks before actually exiting the application.</p>

<p>This was more involved than I thought. It also must be done
at the application level rather than in the library - you don&rsquo;t
want libraries doing sys.exit, and definitely don&rsquo;t want them
closing event loops.</p>

<p>After a bunch of looking and playing, it <em>looks</em> like what I want is
in my application code is something like:</p>

<pre><code class="language-python">if __name__ == '__main__':
    loop = asyncio.get_event_loop()
    try:
        loop.run_until_complete(main())
    finally:
        loop.run_until_complete(asyncio.gather(*asyncio.Task.all_tasks()))
        loop.close()
</code></pre>

<p>This waits for all tasks to complete before exiting, and seems
to make sure all child processes are reaped. However, I have a
few unresolved questions:</p>

<ol>
<li>What happens when one of the tasks is designed to run forever,
and never exit? Should we cancel all tasks? Cancel tasks after
a timeout? Cancelling tasks after a timeout seems most
appropriate.</li>
<li>If a task schedules more tasks, do those get run? Or are they
abandoned? This seems important - can tasks keep adding more
tasks in a loop?</li>
</ol>

<p>I am getting a better handle on what people mean by &lsquo;asyncio is
more complicated than needed&rsquo;. I&rsquo;m going to find places to read
up on asyncio internals - particularly how the list of pending
tasks is maintained.</p>

<p>This <a href="https://www.roguelynn.com/words/asyncio-we-did-it-wrong-pt-1/">series of blog posts</a>
and <a href="https://www.youtube.com/watch?v=1lJDZx6f6tY">this EuroPython talk</a>
from <a href="https://www.roguelynn.com/">Lynn Root</a> helped a lot.
So did <a href="https://github.com/saghul">Saúl Ibarra Corretgé</a> (one of the asyncio core devs)
talk on <a href="https://www.youtube.com/watch?v=HppNu0-ANYw">asyncio internals</a></p>

<h3 id="testing">Testing</h3>

<p>Testing code that involves asyncio, signals and processes is
hard. I attempted to do so with <code>os.fork</code>, but decided that is
super-hard mode and I&rsquo;d rather not play. Instead, I wrote Python
code verbatim that is then spawned as a subprocess, and use
stdout to communicate back to the parent process. The child process&rsquo;
code itself is <a href="https://github.com/yuvipanda/simpervisor/blob/b130203a0a497d26f438a6ab3c9511a3c3de60ab/tests/test_atexitasync.py#L13">inline</a>
in the test file, which is terrible. I am going to move it to its
own file.</p>

<p>I also added tests for multiple signal handlers. I&rsquo;ve been writing
a lot more tests in the last few months than I was before. I credit
<a href="https://github.com/betatim">Tim Head</a> for a lot of this. It definitely
gives me a lot more confidence in my code.</p>

</article> 






<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="http://words.yuvi.in/post/devlog-2018-12-23/">DevLog 2018 December 23</a></h2>
    <p class="blog-post-meta"><time datetime="2018-12-23T19:44:53-08:00">Sun Dec 23, 2018</time> by  in 
<i class="fa fa-folder" aria-hidden="true"></i>&nbsp;<a href="/categories/code" rel="category tag">code</a>, <a href="/categories/devlog" rel="category tag">devlog</a>


</p>
  </header>
  

<p>I have enjoyed keeping running logs of my coding work (devlogs)
in the past, and am going to start doing those again now.</p>

<p>This &lsquo;holiday&rsquo; season, I am spending time teaching myself
skills I sortof know about but do not have a deep understanding of.</p>

<h2 id="jupyterlab-extension">JupyterLab extension</h2>

<p>I spent the first part of the day (before I started devlogging)
working on finishing up a <a href="https://github.com/yuvipanda/jupyterlab-nbmetadata">jupyterlab extension</a>
I started the day before. It lets you <a href="https://github.com/jupyterlab/jupyterlab/issues/1308">edit notebook metadata</a>.
I got started since I wanted to use <a href="https://github.com/mwouts/jupytext">Jupytext</a>
for my work on publishing <a href="https://github.com/yuvipanda/mybinder.org-analytics">mybinder.org-analytics</a>.</p>

<p>TypeScript was easy to pick up coming from C#. I wish the
phospor / JupyterLab code had more documentation though.</p>

<p>I ran into <a href="https://github.com/jupyterlab/jupyterlab/issues/5802">a bug</a>.
While following instructions to set up a JupyterLab dev
setup, I somehow managed to <a href="https://github.com/jupyterlab/jupyterlab/issues/5803">delete my source code</a>.
Thankfully I got most of it back thanks to a saved copy
in vscode. It was a sour start to the morning though.</p>

<p>I&rsquo;ll get back on to this once the sour taste is gone,
and hopefully the bug is fixed :)</p>

<h2 id="asyncio-what-s-next-yuri-selivanov-pybay-2018">asyncio: what&rsquo;s next | Yuri Selivanov @ PyBay 2018</h2>

<p>I&rsquo;ve been trying to get a better handle on asyncio. I can
use it, but I don&rsquo;t fully understand it - I am probably leaving
bugs everywhere&hellip;</p>

<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/vem5GHboRNM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>From one of the asyncio maintainers. Gave me some impetus
to <a href="https://github.com/jupyter/repo2docker/pull/539">push the default version of Python</a> on mybinder.org to 3.7 :D
I&rsquo;m most excited about getting features from Trio &amp; Curio into
the standard library. Was good to hear that nobody can quite
figure out exception handling, and not just me.</p>

<p>I discovered <a href="https://github.com/observerss/aioutils">aioutils</a>
while searching around after this. I&rsquo;ve copy pasted code that
theoretically does the same things as <code>Group</code> and <code>Pool</code> from
<code>aioutils</code>, but I&rsquo;ve no idea if they are right. I&rsquo;ll be using
this library from now!</p>

<h2 id="processing-signals">Processing Signals</h2>

<p>I&rsquo;m writing a simple process supervisor library to replace the
janky parts of nbserverproxy. It should have the following
features:</p>

<ol>
<li>Restart processes when they die</li>
<li>Propagate signals appropriately</li>
<li>Support a sense of &lsquo;readiness&rsquo; probes (not liveness)</li>
<li>Be very well tested</li>
<li>Run on asyncio</li>
</ol>

<p>This is more difficult than it seems, and am slowly working my
way through it. (1) isn&rsquo;t too difficult.</p>

<p>(2) is a fair bit more difficult. <code>atexit</code> is useless since it doesn&rsquo;t do
anything with SIGTERM. So I need to manage my own SIGTERM
handlers. However, this means there needs to be a centralish
location of some sort that decides <em>when</em> to exit. This introduces
global state, and I don&rsquo;t like that at all. But unix signals are
global, and maybe there&rsquo;s nothing for me to do here.</p>

<p>I initially created a Supervisor class that holds a bunch of
SupervisedProcess&rsquo;s, but it was still calling sys.exit in it.
Since signals are global, I realize there&rsquo;s no other real
way to handle this, and so I made a global handler setup too.
This has the additional advantage of being able to remove
handlers when a SupervisedProcess dies, avoiding memory
leaks and stuff.</p>

<p>Testing this stuff is hard!</p>

<p>I also need to make sure I don&rsquo;t end up with lots of races.
I&rsquo;m still writing concurrent code, even without threads.
Gotta be careefull. Especially with signals thrown in. Although
I guess once you get a SIGTERM or SIGINT inconsistent state
is not particularly worrysome.</p>

</article> 






<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="http://words.yuvi.in/devlog-21-30-dec-2015/">DevLog for 21-30 Dec 2015</a></h2>
    <p class="blog-post-meta"><time datetime="2015-12-30T23:40:38Z">Wed Dec 30, 2015</time> by yuvipanda in 
<i class="fa fa-folder" aria-hidden="true"></i>&nbsp;<a href="/categories/devlog" rel="category tag">devlog</a>


</p>
  </header>
  <p>Clearly I missed an entire week. I need to build a better system to make this easier&#8230;</p>

<p>Random notes.</p>

<ul>
<li>Kicked out NFS from the Tool Labs proxies (with <a href="https://gerrit.wikimedia.org/r/#/c/260424/">1</a>). Yay! This hopefully explains the lockup of tools-proxy-01 yesterday night, maybe? It&#8217;s been restarted since, and I hope to no longer have instances randomly locoking on me. Infrastructure standards of 2009, here we come! :D I&#8217;ve also removed NFS from tools-redis, and migrated them to Jessie as well.</li>
<li>Fixed up all the races in how kubernetes workers are setup with <a href="https://gerrit.wikimedia.org/r/#/c/260501/">2</a></li>
<li>Another instance is &#8216;stuck&#8217; again. Sigh. AAAAAAAAAAAAAAAAAAAAAAAAA. Paravoid helped debug this, tracking it down to NFS client issues in the 4.2 kernel (See <a href="https://phabricator.wikimedia.org/T121998">phab</a>). I moved k8s nodes back to a working 3.19 kernel (after filing <a href="https://phabricator.wikimedia.org/T122284">issue</a> about the other 3.19 kernel package I tried that didn&#8217;t work).</li>
<li>Moved the tools proxies to 4.2 (lol?) after finding out huge ksoftirqd spikes in them. Let&#8217;s see if that improves things</li>
<li>I split up the individual components of PAWS, and have a working <a href="https://github.com/yuvipanda/nbserve">nbserve</a> in there now! Exciting times. Need to fixup nbserve to use traitlets for config</li>
<li>Big Tool Labs outage (again!). Some tool accidentally sent about 12million job requests and crashed gridengine&#8217;s underlying backing store (<a href="https://en.wikipedia.org/wiki/Berkeley_DB">BerkeleyDB</a>). Reset to a clean slate after many hours (Thanks Coren!) and mostly things are back up now. I&#8217;m reading through the Berkeley DB <a href="https://web.stanford.edu/class/cs276a/projects/docs/berkeleydb/">reference manual</a> now.</li>
<li>Persistance failed for ores&#8217;s redises again, mostly because <code>vm_overcommit</code> was turned off. Fixed in the core redis module so it does not happen again.</li>
</ul>

</article> 






<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="http://words.yuvi.in/devlog-2015-dec-20/">DevLog for 2015 Dec 20</a></h2>
    <p class="blog-post-meta"><time datetime="2015-12-21T17:09:40Z">Mon Dec 21, 2015</time> by yuvipanda in 
<i class="fa fa-folder" aria-hidden="true"></i>&nbsp;<a href="/categories/devlog" rel="category tag">devlog</a>


</p>
  </header>
  <p>Probably going to take it easy and chill. Already sent a <a href="https://github.com/kjschiroo/WikiChatter/pull/13">trivial PR</a> up though.</p>

<p>Also saw the old <a href="http://librelist.com/browser/devlog/">devlog mailing list</a> and feeling happy memories. Clearly need to bring something back like that, but I don&#8217;t know / think mailing lists are the best medium. More thinking!</p>

<p>Ended up learning some <a href="http://tornadoweb.org/">Tornad</a> and wrote <a href="https://github.com/yuvipanda/nbserve">nbserve</a> to serve rendered notebooks and static files in a configurable way. I should refactor PAWS to have separate jupyterhub, proxy and nbserve pods tomorrow. Also need to test for path traversal attacks and whatnot. Also coroutine based programming is a lot easier than I had originally thought! woo!</p>

</article> 






<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="http://words.yuvi.in/devlog-2015-dec-19/">DevLog for 2015 Dec 19</a></h2>
    <p class="blog-post-meta"><time datetime="2015-12-20T09:15:56Z">Sun Dec 20, 2015</time> by yuvipanda in 
<i class="fa fa-folder" aria-hidden="true"></i>&nbsp;<a href="/categories/devlog" rel="category tag">devlog</a>


</p>
  </header>
  <ul>
<li>Today looks like a day of finding, reporting and fixing bugs in <a href="https://github.com/kjschiroo/WikiChatter">WikiChatter</a>. I had made a stupid mistake yesterday that meant not all of the Teahouse pages were being parsed, and I immediately started running into bugs. Have reported (and fixed!) two (<a href="https://github.com/kjschiroo/WikiChatter/issues/8">1</a> and <a href="https://github.com/kjschiroo/WikiChatter/issues/9">2</a>), and ran into another <a href="https://github.com/earwig/mwparserfromhell/issues/55#issuecomment-166033817">bug</a> in mediawikiparserfromhell itself. I&#8217;m sure I&#8217;ll find more.

<ul>
<li>Another bug in WikiChatter! <a href="https://github.com/kjschiroo/WikiChatter/issues/12">3</a></li>
<li>Perils of digging through archives &#8211; you find Wikipedians giving <a href="https://en.wikipedia.org/wiki/Wikipedia:Teahouse/Questions/Archive_105#relationship_help">relationship advice</a>.</li>
<li>Should work on <a href="https://github.com/jupyter/jupyterhub/issues/17">https://github.com/jupyter/jupyterhub/issues/17</a> in some form over the next few weeks.</li>
</ul></li>
</ul>

</article> 






<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="http://words.yuvi.in/devlog-for-jan-5-2015/">DevLog for Jan 5, 2015</a></h2>
    <p class="blog-post-meta"><time datetime="2015-01-05T21:52:08Z">Mon Jan 5, 2015</time> by yuvipanda in 
<i class="fa fa-folder" aria-hidden="true"></i>&nbsp;<a href="/categories/devlog" rel="category tag">devlog</a>


</p>
  </header>
  <p>DevLog for Jan 5, 2015</p>

<p>Trying out the <a href="https://itunes.apple.com/app/byword/id420212497?mt=12">ByWord</a> app, since it has MarkDown support and also publishes to WordPress. Paid Rs. 900 for it, let&#8217;s hope it is useful. Hate the default font, though.</p>

<ul>
<li>Need to parse View definitions on labsdb public databases and verify that we aren&#8217;t leaking any info (<a href="https://phabricator.wikimedia.org/T85783">https://phabricator.wikimedia.org/T85783</a>). Was going to use the <a href="https://code.google.com/p/python-sqlparse/">sqlparse</a> library, but that doesn&#8217;t seem very complete or useful. Will attempt to use regexes now. Wish I had learnt how to build parsers properly easily.</li>
<li>Ignore lament ^, I spent some time learning to use PyParsing, and ended up with a very simple parser that parsed the small subset of SQL I cared about! Yay :) Still need to set aside some time at some point to fully understand parsers/parsing.</li>
<li>Fixed wikdidata beta not resolving (<a href="https://phabricator.wikimedia.org/T85793">https://phabricator.wikimedia.org/T85793</a>). Of course, problem was caused by me as well, not verifying that DNS changes I was making didn&#8217;t have unintended consequences. It&#8217;s also somewhat surprising that it was down for 6 days before someone noticed.</li>
<li>Add labsdb-auditor report that verifies views have appropriately done definitions that do not expose private information (<a href="https://gerrit.wikimedia.org/r/#/c/182848/">https://gerrit.wikimedia.org/r/#/c/182848/</a>). This was fun to write. I should definitely learn more parsing things and seek out other simpel things I can write a parser for. Code quality is getting better, although could still be better if I can remove the regex part entirely &#8211; it currently cleans up the SQL via a regex and then parses it with pyparsing.</li>
<li>Fixed a consistency bug in the perl script that maintians public view replicas (<a href="https://gerrit.wikimedia.org/r/#/c/182819/">https://gerrit.wikimedia.org/r/#/c/182819/</a>).</li>
</ul>

<p>Reading list: * <a href="http://joostdevblog.blogspot.in/2015/01/what-most-young-programmers-need-to.html">What most young programmers need to learn</a> was nice. I just feel lucky to have been gifted a copy of Code Complete and Pragmatic Programmer when I was 15 (by <a href="http://colinizer.com/">Colinizer</a>).</p>

</article> 






<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="http://words.yuvi.in/devlog-jan-3-4-2015/">DevLog for Jan 3-4 2015</a></h2>
    <p class="blog-post-meta"><time datetime="2015-01-04T19:18:34Z">Sun Jan 4, 2015</time> by yuvipanda in 
<i class="fa fa-folder" aria-hidden="true"></i>&nbsp;<a href="/categories/devlog" rel="category tag">devlog</a>


</p>
  </header>
  <p>Nothing much going on&#8230;</p>

<ul>
<li>Continue reading Real World Haskell. This is indeed expanding my horizons, but I haven&#8217;t found any project I could use haskell in yet. Will keep looking.</li>
<li>Helped fix a parsoid outage yesterday. No biggie. I still do not understand fully how parsoid works / how it is set up, should do.</li>
<li>Spend most of the rest of the time in &#8216;weekend mode&#8217;, which includes mostly not doing things. That went mostly well.</li>
<li>Watched &#8216;Pink Floyd The Wall&#8217; movie. HOLY FUCK MY MIND IT IS GONE OMG IT IS QUITE REALLY NICE. Recommended.</li>
</ul>

<p>I should probably write a &#8216;Year in Review 2014&#8217; post, but so much of that is going to be NSFW and private that there probably is no point&#8230; ;)</p>

</article> 






<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="http://words.yuvi.in/devlog-jan-2-2015/">DevLog for Jan 2, 2015</a></h2>
    <p class="blog-post-meta"><time datetime="2015-01-02T21:16:09Z">Fri Jan 2, 2015</time> by yuvipanda in 
<i class="fa fa-folder" aria-hidden="true"></i>&nbsp;<a href="/categories/devlog" rel="category tag">devlog</a>


</p>
  </header>
  <p>Woohoo, 2015! :) Let&#8217;s see if I can keep this going this time :)</p>

<ul>
<li>Have started taking weekends slightly more seriously. My brain feels less overwhelmed after that. Should take weekends even more seriously going forward.</li>
<li>Merged <code>labsdb-auditor</code> <a href="https://gerrit.wikimedia.org/r/#/c/182164/">rewrite patch</a>. Code clean enough for my tastes now, although not documented enough. Lots of back and forth CR with valhallasw was really nice &#8211; it&#8217;s something I&#8217;ve been missing for the past few months. Debating over style and cleanliness was also interesting. Felt like I had been taking code cleanliness and proper design not as seriously as I should have, and this is now time to change that. Also spent time consciously thinking about the commit message I was writing, and shall continue doing that. I think I&#8217;ve taken a few things for granted wrt code quality and design, and should be more careful. And learnt a few more tricks about decorators (haven&#8217;t built decorators that are parameterized before).</li>
<li>Read a few chapters of <a href="http://book.realworldhaskell.org/">Real World Haskell</a>. Quite nice, although the syntax feels a bit too dense for my tastes. Still should maybe write things with <a href="http://www.call-cc.org/">ChickenScheme</a> instead :)</li>
<li>Continuing re-reading Coders at Work, which continues to be a thought provoking, wonderful book.</li>
</ul>

</article> 






<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="http://words.yuvi.in/devlog-sep-12-24-2014/">DevLog Sep 12-24, 2014</a></h2>
    <p class="blog-post-meta"><time datetime="2014-09-24T15:17:10Z">Wed Sep 24, 2014</time> by yuvipanda in 
<i class="fa fa-folder" aria-hidden="true"></i>&nbsp;<a href="/categories/devlog" rel="category tag">devlog</a>


</p>
  </header>
  <p>That was a long break. Should get into better habits. I&#8217;m sure I&#8217;d miss some here. Oh well.</p>

<p>It was a very interesting week, culminating in some very interesting things at Trafalgar Square. I feel much better as a person and more calmer/chilled out now :) Should remember to take weekends off.</p>

<ul>
<li>Helped the <a href="http://metrics.wmflabs.org/">WikiMetrics</a> people with some puppet changes. They were requiring mysql directly instead of using the class we have in ops/puppet, which meant it put data in the /var partition instead of in /srv. This was because they want to be a &#8216;proper&#8217; independent puppet module, not depending on the other modules in ops/puppet (since the module is used in vagrant as well). Puppet has <em>terrible</em> support for this kind of thing, and ops/puppet by itself also suffers from an incredible amount of NIH syndrome when it comes to modules. Some of the NIH-so-rewrite is justified, but I don&#8217;t think all of it is. Oh well. Hopefully something that can be fixed over time&#8230;</li>
<li>Added basic icinga/graphite based monitoring for contint project (runs our jenkins installation). Quite trivial, but should be ported over to shinken at some point soon.</li>
<li>Contributed a fair bit to the <a href="https://github.com/erming/shout">Shout</a> Web IRC project. I was looking around for an open source replacement to <a href="https://irccloud.com">IRCCloud</a>, and found a bunch of OSS projects (<a href="https://github.com/thedjpetersen/subway">Subway</a> and <a href="http://ircanywhere.com/">http://ircanywhere.com/</a> being the others). Shout seemed the most active (and simplest) of them all &#8211; I couldn&#8217;t actually get the others to a working installation. I fixed a bunch of code formatting issues, and also added a couple of features (<a href="https://github.com/erming/shout/pull/138">Desktop notifications</a> being the most significant, I think). The maintainer was fun to work with, and merged most of my changes quite promptly. I hang out on <code>#shout-irc</code> channel now, and activity seems to be speeding along. Should be fun to see how it goes :)</li>
<li>Moved off IRCCloud. Stopped paying for it. I&#8217;ve also stopped doing email on my phone, in an effort to be more minimalistic / less distracted all the time. This meant no more IRC on phone, so my primary reason for using IRCCloud disappeared. Am back to using LimeChat with my ZNC bouncer now. And nothing on my phone. In case of emergencies, I still have the IRCCloud app on my phone, and can use the free edition to connect to my bouncer temporarily.</li>
<li>Started working on labs-specific monitoring, with <a href="http://shinken-monitoring.org">shinken</a> &#8211; test instance at <a href="http://shinken.wmflabs.org">shinken.wmflabs.org</a>. Discussion in the ops list about how to best implement this. Shinken is supposed to horizontally scale much better than icinga since it is implemented as a bunch of different daemons that can talk over the network. Right now they are just one machine, but will probably expand at some point not too far away. They are running as a labs project rather than on a physical machine (<code>labmon1001</code>) because it is much easier from a networking perspective. Right now it only has a simple http check for betacluster, but more coming.</li>
<li>Started refactoring all our icinga code. Separating them out into <code>nagios_commmon</code> module for config that can be shared between shinken and icinga, and into an <code>icinga</code> module for everything else. Moved all the custom checks and check config we have, moving other things as we go. This is a bit hard / frustrating since I don&#8217;t have access to the machine icinga runs on (<code>neon</code>), and also because I still do not have +2 in our ops repo (should change in a month, tho!). Am about 40 patches in (small ones!), let&#8217;s see how many more it takes!</li>
<li>Moved our <code>dsh</code> code into a module. Was fairly trivial. Now to find ways to get it merged :)</li>
<li>Started trying out <a href="http://pinboard.in">pinboard</a>. Interesting, barebones design. The bookmarklet is a bit slow to load, though. Let&#8217;s see how often I use this. (I did pay for it)</li>
</ul>

<p>Five more days left in the UK :( Let me see if I can continue doing these when here, in a more prompt manner.</p>

</article> 





<nav class="blog-pagination">
  
  
  
  <a class="btn btn-outline-primary disabled" href="#" role="button" aria-disabled="true">Previous page</a>
  <a class="btn btn-outline-primary" href="/categories/devlog/page/2/" rel="next" role="button">Next page</a>
  
</nav>




        </div> <!-- /.blog-main -->

        <aside class="col-sm-3 ml-auto blog-sidebar">
  
  <section class="sidebar-module sidebar-module-inset">
    <h4>about</h4>
    <p>I build infrastructure that helps reduce accidental complexities when using code to solve problems.</p>
  </section>
  
  <section class="sidebar-module sidebar-module-inset">
    <h4>projects</h4>
    <p><p>Primarily working on <a href="https://z2jh.jupyter.org">Zero to JupyterHub</a> and <a href="https://mybinder.org">MyBinder</a></p>

<p>See more on my <a href="https://github.com/yuvipanda">GitHub Profile</a></p>
</p>
  </section>
  
  <section class="sidebar-module sidebar-module-inset">
    <h4>work</h4>
    <p><p>I design, build &amp; operate large scale teaching infrastructure for the <a href="https://data.berkeley.edu/">Data Science Division at UC Berkeley</a>.</p>

<p>I also help run <a href="https://mybinder.org">MyBinder</a> thanks to a generous grant from the Gordon &amp; Betty Moore Foundation.</p>
</p>
  </section>
  
  <section class="sidebar-module sidebar-module-inset">
    <h4>contact</h4>
    <p><a href="mailto:yuvipanda@gmail.com">Email</a> is the best way to contact me privately.
<a href="https://twitter.com/yuvipanda">Twitter</a> is the best way to contact me publicly.</p>
  </section>
  

  
        <section class="sidebar-module">
    <h4>Recent Posts</h4>
    <ol class="list-unstyled">


<li><a href="/post/devlog-2018-12-26/">Devlog 2018 12 26</a></li>

<li><a href="/post/devlog-2018-12-24/">Devlog 2018 12 24</a></li>

<li><a href="/post/devlog-2018-12-23/">DevLog 2018 December 23</a></li>

<li><a href="/post/oss-in-the-cloud/">Freedoms for Open Source Software users in the Cloud</a></li>

<li><a href="/post/aug-2018-plan/">Aug 2018 Work Plan</a></li>

    </ol>
  </section>

  

  
</aside>


      </div> <!-- /.row -->
    </div> <!-- /.container -->

    <footer class="blog-footer">
      <p>
      
      Blog template created by <a href="https://twitter.com/mdo">@mdo</a>, ported to Hugo by <a href='https://twitter.com/mralanorth'>@mralanorth</a>.
      
      </p>
      <p>
      <a href="#">Back to top</a>
      </p>
    </footer>

  </body>

</html>
