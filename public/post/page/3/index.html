<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<meta property="og:title" content="Posts" />
<meta property="og:description" content="[JupyterHub](https://github.com/jupyterhub/jupyterhub) | [MyBinder](https://mybinder.org) | [Kubernetes](https://k8s.io) | Open Culture" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://words.yuvi.in/post/" />



<meta property="og:updated_time" content="2016-02-04T02:38:03&#43;00:00"/>










<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Posts"/>
<meta name="twitter:description" content="[JupyterHub](https://github.com/jupyterhub/jupyterhub) | [MyBinder](https://mybinder.org) | [Kubernetes](https://k8s.io) | Open Culture"/>
<meta name="generator" content="Hugo 0.31.1" />


    
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Blog",
  "headline": "Yuvi Panda",
  "url" : "http://words.yuvi.in/post/",
  "author": {
    "@type": "Person",
    "name": ""
  },
  "dateModified": "2016-02-04T02:38:03&#43;00:00",
  "keywords": "books,class-notes,code,devlog,education,events,kubernetes,links,lol-culture,papers,personal,retrospective,so-called-it,uncategorized,wiki,algorithm,android,anniversary,answers,athiesm,atleast-not-yet,bigco,bigotry,binder,blogging,book,code,crime,democratizing-programming,devlog,devlog-dec-2011,education,external-enforcement,fiction,flipkart,india,interview,it,js,learning,link,linux,note-to-future-self,opensource,parenting,personal,photo,photography,php,python,rant,reddit,reprint,resistance,review,rights,sick,sriram,systemd,talk,talks,travel,twitter,wordpress,work,yahoo,",
  "description": "[JupyterHub](https://github.com/jupyterhub/jupyterhub) | [MyBinder](https://mybinder.org) | [Kubernetes](https://k8s.io) | Open Culture"
}
</script>


    <link rel="canonical" href="http://words.yuvi.in/post/">

    <title>Yuvi Panda</title>

    <!-- combined, minified CSS -->
    <link href="http://words.yuvi.in/css/style.css" rel="stylesheet" integrity="sha384-O8wjsnz02XiyrPxnhfF6AVOv6YLBaEGRCnVF&#43;DL3gCPBy9cieyHcpixIrVyD2JS5" crossorigin="anonymous">

    
    <!-- RSS 2.0 feed -->
    <link href="http://words.yuvi.in/post/index.xml" rel="alternate" type="application/rss+xml" title="Yuvi Panda" />
    

    
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-110578237-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>


    

    

  </head>

  <body>

    <div class="blog-masthead">
    
    </div>

    <header class="blog-header">
      <div class="container">
        <h1 class="blog-title">
            
            <img src='/profile.jpg' width=80 style="border-radius: 50%; margin-bottom: 12px;">
            <a href="http://words.yuvi.in/" rel="home">Yuvi Panda</a></h1>
        <p class="lead blog-description"><a href="https://github.com/jupyterhub/jupyterhub">JupyterHub</a> | <a href="https://mybinder.org">MyBinder</a> | <a href="https://k8s.io">Kubernetes</a> | Open Culture</p>
      </div>
    </header>

    <div class="container">
      <div class="row">
        <div class="col-sm-8 blog-main">

          







<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="http://words.yuvi.in/dns-servers-localhost-asynchronous-code/">DNS servers, localhost and asynchronous code</a></h2>
    <p class="blog-post-meta"><time datetime="2016-02-04T02:38:03Z">Thu Feb 4, 2016</time> by yuvipanda in 
<i class="fa fa-folder" aria-hidden="true"></i>&nbsp;<a href="/categories/code" rel="category tag">code</a>


</p>
  </header>
  <p><code>localhost</code> is always <code>127.0.0.1</code>, right? Nope, can also be <code>::1</code> if your system only has IPV6 (apparently).</p>

<p>Asking a DNS server for an A record for <code>localhost</code> should give you back <code>127.0.0.1</code> right? Nope &#8211; it varies wildly! <code>8.8.8.8</code> gives me an <code>NXDOMAIN</code> which means it tells you straight up THIS DOMAIN DOES NOT EXIST! Which is true, since localhost isn&#8217;t a domain. But if you ask the same thing of any dnsmasq server, it&#8217;ll tell you localhost is 127.0.0.1. Other servers vary wildly &#8211; I found one that returned an <code>NXDOMAIN</code> for AAAA but 127.0.0.1 for A (which is pretty wild, since <code>NXDOMAIN</code> makes most software treat the domain as not existing and not attempt other lookups). So localhost and DNS servers don&#8217;t mix very well.</p>

<p>But why is this a problem, in general? Most DNS resolution happens via <code>gethostbyname</code> libc call, which reads <code>/etc/hosts</code> properly, right? Problem there is that there is popular software that&#8217;s completely asynchronous (_cough_nginx<em>cough</em>) that does <em>not</em> use <code>gethostbyname</code> (since that&#8217;s synchronous) and directly queries DNS servers (asynchronously). This works perfectly well until you try to hit <code>localhost</code> and it tells you &#8216;no such thing!&#8217;.</p>

<p>I should probably file a bug with nginx to have them read <code>/etc/hosts</code> as well, and in the mean-time work around by sending <code>127.0.0.1</code> to nginx rather than localhost.</p>

<p>How did <em>your</em> thursday go?</p>

</article> 






<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="http://words.yuvi.in/devlog-21-30-dec-2015/">DevLog for 21-30 Dec 2015</a></h2>
    <p class="blog-post-meta"><time datetime="2015-12-30T23:40:38Z">Wed Dec 30, 2015</time> by yuvipanda in 
<i class="fa fa-folder" aria-hidden="true"></i>&nbsp;<a href="/categories/devlog" rel="category tag">devlog</a>


</p>
  </header>
  <p>Clearly I missed an entire week. I need to build a better system to make this easier&#8230;</p>

<p>Random notes.</p>

<ul>
<li>Kicked out NFS from the Tool Labs proxies (with <a href="https://gerrit.wikimedia.org/r/#/c/260424/">1</a>). Yay! This hopefully explains the lockup of tools-proxy-01 yesterday night, maybe? It&#8217;s been restarted since, and I hope to no longer have instances randomly locoking on me. Infrastructure standards of 2009, here we come! :D I&#8217;ve also removed NFS from tools-redis, and migrated them to Jessie as well.</li>
<li>Fixed up all the races in how kubernetes workers are setup with <a href="https://gerrit.wikimedia.org/r/#/c/260501/">2</a></li>
<li>Another instance is &#8216;stuck&#8217; again. Sigh. AAAAAAAAAAAAAAAAAAAAAAAAA. Paravoid helped debug this, tracking it down to NFS client issues in the 4.2 kernel (See <a href="https://phabricator.wikimedia.org/T121998">phab</a>). I moved k8s nodes back to a working 3.19 kernel (after filing <a href="https://phabricator.wikimedia.org/T122284">issue</a> about the other 3.19 kernel package I tried that didn&#8217;t work).</li>
<li>Moved the tools proxies to 4.2 (lol?) after finding out huge ksoftirqd spikes in them. Let&#8217;s see if that improves things</li>
<li>I split up the individual components of PAWS, and have a working <a href="https://github.com/yuvipanda/nbserve">nbserve</a> in there now! Exciting times. Need to fixup nbserve to use traitlets for config</li>
<li>Big Tool Labs outage (again!). Some tool accidentally sent about 12million job requests and crashed gridengine&#8217;s underlying backing store (<a href="https://en.wikipedia.org/wiki/Berkeley_DB">BerkeleyDB</a>). Reset to a clean slate after many hours (Thanks Coren!) and mostly things are back up now. I&#8217;m reading through the Berkeley DB <a href="https://web.stanford.edu/class/cs276a/projects/docs/berkeleydb/">reference manual</a> now.</li>
<li>Persistance failed for ores&#8217;s redises again, mostly because <code>vm_overcommit</code> was turned off. Fixed in the core redis module so it does not happen again.</li>
</ul>

</article> 






<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="http://words.yuvi.in/devlog-2015-dec-20/">DevLog for 2015 Dec 20</a></h2>
    <p class="blog-post-meta"><time datetime="2015-12-21T17:09:40Z">Mon Dec 21, 2015</time> by yuvipanda in 
<i class="fa fa-folder" aria-hidden="true"></i>&nbsp;<a href="/categories/devlog" rel="category tag">devlog</a>


</p>
  </header>
  <p>Probably going to take it easy and chill. Already sent a <a href="https://github.com/kjschiroo/WikiChatter/pull/13">trivial PR</a> up though.</p>

<p>Also saw the old <a href="http://librelist.com/browser/devlog/">devlog mailing list</a> and feeling happy memories. Clearly need to bring something back like that, but I don&#8217;t know / think mailing lists are the best medium. More thinking!</p>

<p>Ended up learning some <a href="http://tornadoweb.org/">Tornad</a> and wrote <a href="https://github.com/yuvipanda/nbserve">nbserve</a> to serve rendered notebooks and static files in a configurable way. I should refactor PAWS to have separate jupyterhub, proxy and nbserve pods tomorrow. Also need to test for path traversal attacks and whatnot. Also coroutine based programming is a lot easier than I had originally thought! woo!</p>

</article> 






<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="http://words.yuvi.in/devlog-2015-dec-19/">DevLog for 2015 Dec 19</a></h2>
    <p class="blog-post-meta"><time datetime="2015-12-20T09:15:56Z">Sun Dec 20, 2015</time> by yuvipanda in 
<i class="fa fa-folder" aria-hidden="true"></i>&nbsp;<a href="/categories/devlog" rel="category tag">devlog</a>


</p>
  </header>
  <ul>
<li>Today looks like a day of finding, reporting and fixing bugs in <a href="https://github.com/kjschiroo/WikiChatter">WikiChatter</a>. I had made a stupid mistake yesterday that meant not all of the Teahouse pages were being parsed, and I immediately started running into bugs. Have reported (and fixed!) two (<a href="https://github.com/kjschiroo/WikiChatter/issues/8">1</a> and <a href="https://github.com/kjschiroo/WikiChatter/issues/9">2</a>), and ran into another <a href="https://github.com/earwig/mwparserfromhell/issues/55#issuecomment-166033817">bug</a> in mediawikiparserfromhell itself. I&#8217;m sure I&#8217;ll find more.

<ul>
<li>Another bug in WikiChatter! <a href="https://github.com/kjschiroo/WikiChatter/issues/12">3</a></li>
<li>Perils of digging through archives &#8211; you find Wikipedians giving <a href="https://en.wikipedia.org/wiki/Wikipedia:Teahouse/Questions/Archive_105#relationship_help">relationship advice</a>.</li>
<li>Should work on <a href="https://github.com/jupyter/jupyterhub/issues/17">https://github.com/jupyter/jupyterhub/issues/17</a> in some form over the next few weeks.</li>
</ul></li>
</ul>

</article> 






<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="http://words.yuvi.in/devlog-2015-dec-18/">DevLog for 2015 Dec 18</a></h2>
    <p class="blog-post-meta"><time datetime="2015-12-19T07:55:01Z">Sat Dec 19, 2015</time> by yuvipanda in 
<i class="fa fa-folder" aria-hidden="true"></i>&nbsp;<a href="/categories/uncategorized" rel="category tag">Uncategorized</a>


</p>
  </header>
  <p>Haven&#8217;t done these in a while, let&#8217;s see if I can get this back on the wagon!</p>

<ul>
<li>Discovered the <a href="https://github.com/kjschiroo/WikiChatter">WikiChatter</a> library (thanks to @halfak!), and using that in my Teahouse analysis notebook. Far better than writing my own parser and fighting with that. Lets me get on with the actual fun stuff I wanted to do (which is the actual analysis)</li>
<li>Learning about pandas, checking out matplotlib, bokeh and wordcloud libraries to use in the analysis. Have included matplotlib and bokeh (and with it, pandas and numpy) in the default libraries list for PAWS, and also fixed permissions so users can pip install stuff themselves too.</li>
<li>For context, I&#8217;m trying to do an analysis of the <a href="https://en.wikipedia.org/wiki/Wikipedia:Teahouse">English Wikipedia Teahouse</a> questions archive, mostly as a way of showing off what <a href="https://tools.wmflabs.org/paws">PAWS</a> makes possible.</li>
<li>Also spent a good chunk of the day regretting previous life decisions. All temporary however &#8211; nothing irreversible was done, which is wonderful. Should figure out how to reduce likeliness of similar events happening in the future.</li>
<li>Docker build times on my machine are pathetic, both because of slow network (USA! USA! USA!) and cheap laptop. Need to find a proper solution to this soon.</li>
</ul>

</article> 






<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="http://words.yuvi.in/things/">“Things”</a></h2>
    <p class="blog-post-meta"><time datetime="2015-07-26T00:13:29Z">Sun Jul 26, 2015</time> by yuvipanda in 
<i class="fa fa-folder" aria-hidden="true"></i>&nbsp;<a href="/categories/personal" rel="category tag">personal</a>


</p>
  </header>
  <p>I&#8217;m writing this post in an attempt to catalog the list of things I own so I can evaluate if I really need them and get rid of them.</p>

<ol>
<li>15&#8243; rMBP</li>
<li>Kinesis Keyboard</li>
<li>Apple Trackpad</li>
<li>Moto X</li>
<li>Kindle</li>
<li>Nexus 7 (To be returned to the WMF)</li>
<li>Broken Nexus 4 (To be backed up and then&#8230; something)</li>
<li>iPod Touch</li>
<li>Earphones (Soundmagic E10)</li>
<li>Headphones (AudioTechnica ATH M50)</li>
<li>Battery Pack #1</li>
<li>Battery Pack #2</li>
<li>MiFi (US Only)</li>
<li>Multi USB Charger + 6 USB Cables</li>
<li>Bluetooth Speaker (JBL Flip 2)</li>
<li>Assorted Medication (in several loose covers, need to consolidate)</li>
<li>Toiletries (Emergency Soap, Toothbrush, Toothpaste, Hair Gel, Shampoo, Conditioner)</li>
<li>Velcro Rolls</li>
<li>Box of Leaves</li>
<li>Octopus</li>
<li>Letter in Envelope</li>
<li>Universal plug convertor</li>
<li>Physical paper notebook</li>
<li>Nailcolor</li>
<li>Glasses + backup glasses</li>
<li>Small Green Foldable Bag</li>
<li>Pens</li>
<li>Wallet with assorted currencies and cards</li>
<li>Raspberry PI</li>
<li>Assorted USB chargers (accumulated from various devices)</li>
<li>Wrist Straps (left and right)</li>
<li>Beard Trimmer</li>
</ol>

<p>Clothes:</p>

<ol>
<li>14 Underpants</li>
<li>23 Socks (not 19 pairs &#8211; I had given up on pairing socks a long long time ago)</li>
<li>8 T Shirts</li>
<li>3 pairs of cargo shorts</li>
<li>1 pair of jeans</li>
<li>3 Jackets of varying thickness</li>
<li>1 Down Jacket</li>
<li>1 Scarf</li>
<li>1 pair of thermal underclothes</li>
<li>2 Towels (1 slightly fluffy, 1 microfiber)</li>
</ol>

<p>I&#8217;ll try and keep this list updated.</p>

<p>Decluttering actions:</p>

<ol>
<li>I gave away assorted USB Power chargers and Plug convertors &#8211; I have now a universal plug that should be good enough, and 3 USB power adaptors of various sizes. I should probably trim down the number of cables I have</li>
</ol>

</article> 






<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="http://words.yuvi.in/green-stuff/">“Green Stuff”</a></h2>
    <p class="blog-post-meta"><time datetime="2015-07-06T20:58:35Z">Mon Jul 6, 2015</time> by yuvipanda in 
<i class="fa fa-folder" aria-hidden="true"></i>&nbsp;<a href="/categories/links" rel="category tag">links</a>, <a href="/categories/wiki" rel="category tag">wiki</a>


</p>
  </header>
  <p><a href="https://lists.wikimedia.org/pipermail/foundation-l/2009-May/051656.html">&#8220;Green Stuff&#8221;</a></p>

<p>TIL that Gregory Kohs was actually allowed to post on wikimedia-l at some point in the past.</p>

</article> 






<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="http://words.yuvi.in/global-merge-accounts-wikimedia/">Global merge of accounts at Wikimedia</a></h2>
    <p class="blog-post-meta"><time datetime="2015-07-04T12:49:15Z">Sat Jul 4, 2015</time> by yuvipanda in 
<i class="fa fa-folder" aria-hidden="true"></i>&nbsp;<a href="/categories/uncategorized" rel="category tag">Uncategorized</a>, <a href="/categories/wiki" rel="category tag">wiki</a>


</p>
  </header>
  <p>is now slowly happening, and <a href="https://meta.wikimedia.org/wiki/Special:GlobalRenameProgress/YuviPanda">I am the test subject!</a></p>

</article> 






<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="http://words.yuvi.in/talk-ever/">Best talk ever?</a></h2>
    <p class="blog-post-meta"><time datetime="2015-04-26T08:30:41Z">Sun Apr 26, 2015</time> by yuvipanda in 
<i class="fa fa-folder" aria-hidden="true"></i>&nbsp;<a href="/categories/links" rel="category tag">links</a>


</p>
  </header>
  <p>(Funniest, at least!). Well worth the 27min watch.</p>

</article> 






<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="http://words.yuvi.in/devlog-for-jan-5-2015/">DevLog for Jan 5, 2015</a></h2>
    <p class="blog-post-meta"><time datetime="2015-01-05T21:52:08Z">Mon Jan 5, 2015</time> by yuvipanda in 
<i class="fa fa-folder" aria-hidden="true"></i>&nbsp;<a href="/categories/devlog" rel="category tag">devlog</a>


</p>
  </header>
  <p>DevLog for Jan 5, 2015</p>

<p>Trying out the <a href="https://itunes.apple.com/app/byword/id420212497?mt=12">ByWord</a> app, since it has MarkDown support and also publishes to WordPress. Paid Rs. 900 for it, let&#8217;s hope it is useful. Hate the default font, though.</p>

<ul>
<li>Need to parse View definitions on labsdb public databases and verify that we aren&#8217;t leaking any info (<a href="https://phabricator.wikimedia.org/T85783">https://phabricator.wikimedia.org/T85783</a>). Was going to use the <a href="https://code.google.com/p/python-sqlparse/">sqlparse</a> library, but that doesn&#8217;t seem very complete or useful. Will attempt to use regexes now. Wish I had learnt how to build parsers properly easily.</li>
<li>Ignore lament ^, I spent some time learning to use PyParsing, and ended up with a very simple parser that parsed the small subset of SQL I cared about! Yay :) Still need to set aside some time at some point to fully understand parsers/parsing.</li>
<li>Fixed wikdidata beta not resolving (<a href="https://phabricator.wikimedia.org/T85793">https://phabricator.wikimedia.org/T85793</a>). Of course, problem was caused by me as well, not verifying that DNS changes I was making didn&#8217;t have unintended consequences. It&#8217;s also somewhat surprising that it was down for 6 days before someone noticed.</li>
<li>Add labsdb-auditor report that verifies views have appropriately done definitions that do not expose private information (<a href="https://gerrit.wikimedia.org/r/#/c/182848/">https://gerrit.wikimedia.org/r/#/c/182848/</a>). This was fun to write. I should definitely learn more parsing things and seek out other simpel things I can write a parser for. Code quality is getting better, although could still be better if I can remove the regex part entirely &#8211; it currently cleans up the SQL via a regex and then parses it with pyparsing.</li>
<li>Fixed a consistency bug in the perl script that maintians public view replicas (<a href="https://gerrit.wikimedia.org/r/#/c/182819/">https://gerrit.wikimedia.org/r/#/c/182819/</a>).</li>
</ul>

<p>Reading list: * <a href="http://joostdevblog.blogspot.in/2015/01/what-most-young-programmers-need-to.html">What most young programmers need to learn</a> was nice. I just feel lucky to have been gifted a copy of Code Complete and Pragmatic Programmer when I was 15 (by <a href="http://colinizer.com/">Colinizer</a>).</p>

</article> 





<nav class="blog-pagination">
  
  <a class="btn btn-outline-primary" href="/post/page/2/" rel="prev" role="button">Previous page</a>
  <a class="btn btn-outline-primary" href="/post/page/4/" rel="next" role="button">Next page</a>
  
  
  
</nav>




        </div> <!-- /.blog-main -->

        <aside class="col-sm-3 ml-auto blog-sidebar">
  
  <section class="sidebar-module sidebar-module-inset">
    <h4>about</h4>
    <p>I build infrastructure that helps reduce accidental complexities when using code to solve problems.</p>
  </section>
  
  <section class="sidebar-module sidebar-module-inset">
    <h4>projects</h4>
    <p><p>Primarily working on <a href="https://z2jh.jupyter.org">Zero to JupyterHub</a> and <a href="https://mybinder.org">MyBinder</a></p>

<p>See more on my <a href="https://github.com/yuvipanda">GitHub Profile</a></p>
</p>
  </section>
  
  <section class="sidebar-module sidebar-module-inset">
    <h4>work</h4>
    <p><p>I design, build &amp; operate large scale teaching infrastructure for the <a href="https://data.berkeley.edu/">Data Science Division at UC Berkeley</a>.</p>

<p>I also help run <a href="https://mybinder.org">MyBinder</a> thanks to a generous grant from the Gordon &amp; Betty Moore Foundation.</p>
</p>
  </section>
  
  <section class="sidebar-module sidebar-module-inset">
    <h4>contact</h4>
    <p><a href="mailto:yuvipanda@gmail.com">Email</a> is the best way to contact me privately.
<a href="https://twitter.com/yuvipanda">Twitter</a> is the best way to contact me publicly.</p>
  </section>
  

  
        <section class="sidebar-module">
    <h4>Recent Posts</h4>
    <ol class="list-unstyled">


<li><a href="/post/kubectl-rbac/">Kubectl verbose logging tricks</a></li>

<li><a href="/post/2017/">2017</a></li>

<li><a href="/post/why-not-s2i/">Why repo2docker? Why not s2i?</a></li>

<li><a href="/post/maintainerati-2017/">maintainerati 2017</a></li>

<li><a href="/post/designing-data-intensive-applications/">designing data intensive applications</a></li>

    </ol>
  </section>

  

  
</aside>


      </div> <!-- /.row -->
    </div> <!-- /.container -->

    <footer class="blog-footer">
      <p>
      
      CC0
      
      </p>
      <p>
      <a href="#">Back to top</a>
      </p>
    </footer>

  </body>

</html>
